{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = require(\"react\");\n\nvar useIsomorphicLayoutEffect_1 = tslib_1.__importDefault(require(\"./useIsomorphicLayoutEffect\"));\n\nvar useRaf = function (ms, delay) {\n  if (ms === void 0) {\n    ms = 1e12;\n  }\n\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  var _a = react_1.useState(0),\n      elapsed = _a[0],\n      set = _a[1];\n\n  useIsomorphicLayoutEffect_1.default(function () {\n    var raf;\n    var timerStop;\n    var start;\n\n    var onFrame = function () {\n      var time = Math.min(1, (Date.now() - start) / ms);\n      set(time);\n      loop();\n    };\n\n    var loop = function () {\n      raf = requestAnimationFrame(onFrame);\n    };\n\n    var onStart = function () {\n      timerStop = setTimeout(function () {\n        cancelAnimationFrame(raf);\n        set(1);\n      }, ms);\n      start = Date.now();\n      loop();\n    };\n\n    var timerDelay = setTimeout(onStart, delay);\n    return function () {\n      clearTimeout(timerStop);\n      clearTimeout(timerDelay);\n      cancelAnimationFrame(raf);\n    };\n  }, [ms, delay]);\n  return elapsed;\n};\n\nexports.default = useRaf;","map":{"version":3,"sources":["/home/simo/programming/web/projects/search-gifs/node_modules/react-use/lib/useRaf.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","react_1","useIsomorphicLayoutEffect_1","__importDefault","useRaf","ms","delay","_a","useState","elapsed","set","default","raf","timerStop","start","onFrame","time","Math","min","Date","now","loop","requestAnimationFrame","onStart","setTimeout","cancelAnimationFrame","timerDelay","clearTimeout"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIE,2BAA2B,GAAGH,OAAO,CAACI,eAAR,CAAwBH,OAAO,CAAC,6BAAD,CAA/B,CAAlC;;AACA,IAAII,MAAM,GAAG,UAAUC,EAAV,EAAcC,KAAd,EAAqB;AAC9B,MAAID,EAAE,KAAK,KAAK,CAAhB,EAAmB;AAAEA,IAAAA,EAAE,GAAG,IAAL;AAAY;;AACjC,MAAIC,KAAK,KAAK,KAAK,CAAnB,EAAsB;AAAEA,IAAAA,KAAK,GAAG,CAAR;AAAY;;AACpC,MAAIC,EAAE,GAAGN,OAAO,CAACO,QAAR,CAAiB,CAAjB,CAAT;AAAA,MAA8BC,OAAO,GAAGF,EAAE,CAAC,CAAD,CAA1C;AAAA,MAA+CG,GAAG,GAAGH,EAAE,CAAC,CAAD,CAAvD;;AACAL,EAAAA,2BAA2B,CAACS,OAA5B,CAAoC,YAAY;AAC5C,QAAIC,GAAJ;AACA,QAAIC,SAAJ;AACA,QAAIC,KAAJ;;AACA,QAAIC,OAAO,GAAG,YAAY;AACtB,UAAIC,IAAI,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,CAACC,IAAI,CAACC,GAAL,KAAaN,KAAd,IAAuBT,EAAnC,CAAX;AACAK,MAAAA,GAAG,CAACM,IAAD,CAAH;AACAK,MAAAA,IAAI;AACP,KAJD;;AAKA,QAAIA,IAAI,GAAG,YAAY;AACnBT,MAAAA,GAAG,GAAGU,qBAAqB,CAACP,OAAD,CAA3B;AACH,KAFD;;AAGA,QAAIQ,OAAO,GAAG,YAAY;AACtBV,MAAAA,SAAS,GAAGW,UAAU,CAAC,YAAY;AAC/BC,QAAAA,oBAAoB,CAACb,GAAD,CAApB;AACAF,QAAAA,GAAG,CAAC,CAAD,CAAH;AACH,OAHqB,EAGnBL,EAHmB,CAAtB;AAIAS,MAAAA,KAAK,GAAGK,IAAI,CAACC,GAAL,EAAR;AACAC,MAAAA,IAAI;AACP,KAPD;;AAQA,QAAIK,UAAU,GAAGF,UAAU,CAACD,OAAD,EAAUjB,KAAV,CAA3B;AACA,WAAO,YAAY;AACfqB,MAAAA,YAAY,CAACd,SAAD,CAAZ;AACAc,MAAAA,YAAY,CAACD,UAAD,CAAZ;AACAD,MAAAA,oBAAoB,CAACb,GAAD,CAApB;AACH,KAJD;AAKH,GA1BD,EA0BG,CAACP,EAAD,EAAKC,KAAL,CA1BH;AA2BA,SAAOG,OAAP;AACH,CAhCD;;AAiCAZ,OAAO,CAACc,OAAR,GAAkBP,MAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useIsomorphicLayoutEffect_1 = tslib_1.__importDefault(require(\"./useIsomorphicLayoutEffect\"));\nvar useRaf = function (ms, delay) {\n    if (ms === void 0) { ms = 1e12; }\n    if (delay === void 0) { delay = 0; }\n    var _a = react_1.useState(0), elapsed = _a[0], set = _a[1];\n    useIsomorphicLayoutEffect_1.default(function () {\n        var raf;\n        var timerStop;\n        var start;\n        var onFrame = function () {\n            var time = Math.min(1, (Date.now() - start) / ms);\n            set(time);\n            loop();\n        };\n        var loop = function () {\n            raf = requestAnimationFrame(onFrame);\n        };\n        var onStart = function () {\n            timerStop = setTimeout(function () {\n                cancelAnimationFrame(raf);\n                set(1);\n            }, ms);\n            start = Date.now();\n            loop();\n        };\n        var timerDelay = setTimeout(onStart, delay);\n        return function () {\n            clearTimeout(timerStop);\n            clearTimeout(timerDelay);\n            cancelAnimationFrame(raf);\n        };\n    }, [ms, delay]);\n    return elapsed;\n};\nexports.default = useRaf;\n"]},"metadata":{},"sourceType":"script"}