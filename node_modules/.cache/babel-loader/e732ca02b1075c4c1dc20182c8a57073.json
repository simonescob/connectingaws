{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.onGifHover = exports.onGifClick = exports.onGifSeen = void 0;\n\nvar js_analytics_1 = require(\"@giphy/js-analytics\");\n\nvar js_util_1 = require(\"@giphy/js-util\");\n\nvar firePingback = function (actionType) {\n  return function (gif, userId, target, attributes) {\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    if (!gif.analytics_response_payload) {\n      return;\n    }\n\n    js_analytics_1.pingback({\n      analyticsResponsePayload: gif.analytics_response_payload,\n      userId: userId,\n      actionType: actionType,\n      attributes: __assign({\n        position: JSON.stringify(js_util_1.getClientRect(target))\n      }, attributes)\n    });\n  };\n}; // no target on this one\n\n\nvar onGifSeen = function (gif, userId, position, attributes) {\n  if (attributes === void 0) {\n    attributes = {};\n  }\n\n  if (!gif.analytics_response_payload) {\n    return;\n  }\n\n  js_analytics_1.pingback({\n    analyticsResponsePayload: gif.analytics_response_payload,\n    userId: userId,\n    actionType: 'SEEN',\n    attributes: __assign({\n      position: JSON.stringify(position)\n    }, attributes)\n  });\n};\n\nexports.onGifSeen = onGifSeen;\nexports.onGifClick = firePingback('CLICK');\nexports.onGifHover = firePingback('HOVER');","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AAEA,IAAMA,YAAY,GAAG,UAACC,UAAD,EAA+B;AAAK,mBACrDC,GADqD,EAErDC,MAFqD,EAGrDC,MAHqD,EAIrDC,UAJqD,EAIlB;AAAnC;AAAAA;AAAmC;;AAEnC,QAAI,CAACH,GAAG,CAACI,0BAAT,EAAqC;AACjC;AACH;;AACDC,4BAAS;AACLC,8BAAwB,EAAEN,GAAG,CAACI,0BADzB;AAELH,YAAM,QAFD;AAGLF,gBAAU,YAHL;AAILI,gBAAU;AAAII,gBAAQ,EAAEC,IAAI,CAACC,SAAL,CAAeC,wBAAcR,MAAd,CAAf;AAAd,SAAwDC,UAAxD;AAJL,KAAT;AAMH,GAfwD;AAexD,CAfD,C,CAiBA;;;AACO,IAAMQ,SAAS,GAAG,UACrBX,GADqB,EAErBC,MAFqB,EAGrBM,QAHqB,EAIrBJ,UAJqB,EAIc;AAAnC;AAAAA;AAAmC;;AAEnC,MAAI,CAACH,GAAG,CAACI,0BAAT,EAAqC;AACjC;AACH;;AACDC,0BAAS;AACLC,4BAAwB,EAAEN,GAAG,CAACI,0BADzB;AAELH,UAAM,QAFD;AAGLF,cAAU,EAAE,MAHP;AAILI,cAAU;AAAII,cAAQ,EAAEC,IAAI,CAACC,SAAL,CAAeF,QAAf;AAAd,OAA2CJ,UAA3C;AAJL,GAAT;AAMH,CAfM;;AAAMS,oBAASD,SAAT;AAiBAC,qBAAad,YAAY,CAAC,OAAD,CAAzB;AACAc,qBAAad,YAAY,CAAC,OAAD,CAAzB","names":["firePingback","actionType","gif","userId","target","attributes","analytics_response_payload","js_analytics_1","analyticsResponsePayload","position","JSON","stringify","js_util_1","onGifSeen","exports"],"sources":["/home/simo/programming/web/projects/search-gifs/node_modules/@giphy/react-components/src/util/pingback.ts"],"sourcesContent":["import { pingback, PingbackActionType, PingbackAttributes } from '@giphy/js-analytics'\nimport { IGif } from '@giphy/js-types'\nimport { getClientRect } from '@giphy/js-util'\n\nconst firePingback = (actionType: PingbackActionType) => (\n    gif: IGif,\n    userId: string | number | undefined,\n    target: HTMLElement,\n    attributes: PingbackAttributes = {}\n) => {\n    if (!gif.analytics_response_payload) {\n        return\n    }\n    pingback({\n        analyticsResponsePayload: gif.analytics_response_payload,\n        userId,\n        actionType,\n        attributes: { position: JSON.stringify(getClientRect(target)), ...attributes },\n    })\n}\n\n// no target on this one\nexport const onGifSeen = (\n    gif: IGif,\n    userId: string | number | undefined,\n    position: ClientRect,\n    attributes: PingbackAttributes = {}\n) => {\n    if (!gif.analytics_response_payload) {\n        return\n    }\n    pingback({\n        analyticsResponsePayload: gif.analytics_response_payload,\n        userId,\n        actionType: 'SEEN',\n        attributes: { position: JSON.stringify(position), ...attributes },\n    })\n}\n\nexport const onGifClick = firePingback('CLICK')\nexport const onGifHover = firePingback('HOVER')\n"]},"metadata":{},"sourceType":"script"}