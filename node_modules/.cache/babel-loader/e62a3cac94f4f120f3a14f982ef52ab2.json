{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sendPingback = void 0;\n\nvar js_util_1 = require(\"@giphy/js-util\");\n\nvar global_1 = __importDefault(require(\"./global\")); // TODO remove api key\n\n\nvar environment = (global_1.default === null || global_1.default === void 0 ? void 0 : global_1.default.GIPHY_PINGBACK_URL) || 'https://pingback.giphy.com';\nvar pingBackUrl = environment + \"/v2/pingback?apikey=l0HlIwPWyBBUDAUgM\";\n\nvar sendPingback = function (events) {\n  var headers = js_util_1.getGiphySDKRequestHeaders();\n  /* istanbul ignore next */\n\n  headers === null || headers === void 0 ? void 0 : headers.set('Content-Type', 'application/json');\n  js_util_1.Logger.debug(\"Pingback session\", events);\n  return fetch(pingBackUrl, {\n    method: 'POST',\n    body: JSON.stringify({\n      events: events\n    }),\n    headers: headers\n  }).catch(function (error) {\n    // Call failed, probably due to adblock.\n    js_util_1.Logger.warn(\"pingbacks failing to post \" + error);\n  });\n};\n\nexports.sendPingback = sendPingback;","map":{"version":3,"mappings":";;;;;;;;;;;;;AAAA;;AACA,oD,CAGA;;;AACA,IAAMA,WAAW,GAAG,sBAAE,IAAF,yBAAE,MAAF,GAAE,MAAF,oBAAIC,kBAAJ,KAA0B,4BAA9C;AACA,IAAMC,WAAW,GAAMF,WAAW,0CAAlC;;AAEO,IAAMG,YAAY,GAAG,UAACC,MAAD,EAAwB;AAChD,MAAMC,OAAO,GAAGC,qCAAhB;AACA;;AACAD,SAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEE,GAAT,CAAa,cAAb,EAA6B,kBAA7B;AACAD,mBAAOE,KAAP,CAAa,kBAAb,EAAiCJ,MAAjC;AACA,SAAOK,KAAK,CAACP,WAAD,EAAc;AACtBQ,UAAM,EAAE,MADc;AAEtBC,QAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAET,YAAM;AAAR,KAAf,CAFgB;AAGtBC,WAAO;AAHe,GAAd,CAAL,CAIJS,KAJI,CAIE,UAACC,KAAD,EAAM;AACX;AACAT,qBAAOU,IAAP,CAAY,+BAA6BD,KAAzC;AACH,GAPM,CAAP;AAQH,CAbM;;AAAME,uBAAYd,YAAZ","names":["environment","GIPHY_PINGBACK_URL","pingBackUrl","sendPingback","events","headers","js_util_1","set","debug","fetch","method","body","JSON","stringify","catch","error","warn","exports"],"sources":["/home/simo/programming/web/projects/search-gifs/node_modules/@giphy/js-analytics/src/send-pingback.ts"],"sourcesContent":["import { getGiphySDKRequestHeaders, Logger } from '@giphy/js-util'\nimport gl from './global'\nimport { PingbackEvent } from './types'\n\n// TODO remove api key\nconst environment = gl?.GIPHY_PINGBACK_URL || 'https://pingback.giphy.com'\nconst pingBackUrl = `${environment}/v2/pingback?apikey=l0HlIwPWyBBUDAUgM`\n\nexport const sendPingback = (events: PingbackEvent[]) => {\n    const headers = getGiphySDKRequestHeaders()\n    /* istanbul ignore next */\n    headers?.set('Content-Type', 'application/json')\n    Logger.debug(`Pingback session`, events)\n    return fetch(pingBackUrl, {\n        method: 'POST',\n        body: JSON.stringify({ events }),\n        headers,\n    }).catch((error) => {\n        // Call failed, probably due to adblock.\n        Logger.warn(`pingbacks failing to post ${error}`)\n    })\n}\n"]},"metadata":{},"sourceType":"script"}